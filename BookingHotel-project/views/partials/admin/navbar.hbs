<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sidebar Quản lý phòng</title>
    <style>
      /* Hiệu ứng mở/đóng */ .collapse-transition { overflow: hidden;
      transition: max-height 300ms ease-in-out, visibility 300ms ease-in-out;
      max-height: 0; visibility: hidden; padding-left: 0 !important; }
      .collapse-transition.open { max-height: 600px; visibility: visible; } /*
      Menu item */ .sidebar-menu-item { width: 100%; text-align: left; padding:
      8px 12px; border-radius: 6px; transition: background-color 0.1s; display:
      flex; align-items: center; text-decoration: none; color: inherit;
      line-height: 1.5; font-size: 15px; cursor: pointer; }
      .sidebar-menu-item:hover { background-color: #f3f4f6; } /* Active state -
      màu xám để nhận biết trang hiện tại */ .sidebar-menu-item.active {
      background-color: #e5e7eb; color: #374151; font-weight: 500; }
      .sidebar-menu-item.active:hover { background-color: #d1d5db; }
      .sidebar-menu-item.collapse-toggle { justify-content: space-between; }
      .sidebar-menu-item i:not(.fa-chevron-down) { min-width: 20px;
      margin-right: 10px; } /* Đảm bảo chevron icon ở bên phải */
      .sidebar-menu-item.collapse-toggle .fa-chevron-down { margin-left: auto; }
      /* Mục tiêu đề (vô hiệu hóa) */ .sidebar-menu-item.disabled { color:
      #9ca3af; font-weight: 600; cursor: default; background-color: transparent
      !important; } .sidebar-menu-item.disabled:hover { background-color:
      transparent !important; } /* Thụt cấp cho menu phân cấp (cân đối) */ /*
      Level 2 (Tầng) */ #menu-rooms > li > button.sidebar-menu-item, #menu-rooms
      > li > ul > li > button.sidebar-menu-item { padding-left: 28px; } /* Level
      3 (Loại phòng) */ #menu-rooms > li > ul > li > ul > li >
      button.sidebar-menu-item { padding-left: 36px; } /* Level 4 (Tên
      phòng/Links) */ #menu-rooms > li > ul > li > ul > li > ul > li >
      a.sidebar-menu-item { padding-left: 44px; }
    </style>
  </head>
  <body>
    <aside
      id="sidebar"
      class="border-r bg-white p-3 lg:sticky lg:top-0 lg:h-screen lg:overflow-y-auto fixed inset-y-0 left-0 z-40 w-[260px] -translate-x-full lg:translate-x-0 transition-transform duration-300"
    >
      <div class="flex items-center justify-between mb-6">
        <a href="/">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-md bg-[#11234B]"></div>
            <div>
              <div class="font-semibold">Emerald Hotel</div>
              <div class="text-xs text-muted">Quản trị</div>
            </div>
          </div>
        </a>
        <button
          id="closeSidebar"
          class="lg:hidden text-slate-600 hover:text-slate-900 text-xl"
        >
          ✕
        </button>
      </div>

      <nav class="space-y-1 flex flex-col text-gray-700">
        <a href="/admin" class="sidebar-menu-item">
          <i class="fa-solid fa-chart-line"></i>
          Bảng điều khiển
        </a>

        <a href="/admin/order" class="sidebar-menu-item">
          <i class="fa-regular fa-calendar"></i>
          Đặt phòng
        </a>

        <!-- Rooms menu (static top-level item) -->
        <a href="/admin/rooms" class="sidebar-menu-item">
          <i class="fa-regular fa-clone"></i>
          Quản lý phòng
        </a>

        {{! Rooms sub-menu (dynamically populated) }}
        <div id="sidebarNav" class="space-y-1 flex flex-col text-gray-700">
          <button class="sidebar-menu-item" id="nav-rooms-root">
            <i class="fa-regular fa-door-open"></i>
            <span>Phòng</span>
          </button>
        </div>

        <a href="/admin/user" class="sidebar-menu-item">
          <i class="fa-regular fa-user"></i>
          Khách
        </a>

        <a href="/admin/services" class="sidebar-menu-item">
          <i class="fa-regular fa-face-smile"></i>
          Tiện ích
        </a>
      </nav>
    </aside>

    <script
      src="https://kit.fontawesome.com/a2d9a64f8f.js"
      crossorigin="anonymous"
    ></script>
    <script src="/home/js/data.js"></script>
    <script type="module" src="/admin/js/rooms.js"></script>
    <script src="/admin/js/sidebar-active.js"></script>
  </body>
</html>